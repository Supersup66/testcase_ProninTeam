# Donution project

![photo_2025-10-06_17-30-57](https://github.com/user-attachments/assets/7f9d1b42-e1eb-4c06-9843-68f2e1ac9f55)

### Описание проекта

Проект Donution создан для удобной организации сбора средств на различные нужды. 

### Возможности проекта 

В проекте реализована возможность регистрации пользователей. Авторизованные пользователи могут публиковать сборы с указанием срока, суммы, целей и фотографии, а также просматривать сборы других пользователей и вносить средства в их пользу.

В проекте реализован API с использованием DRF и авторизацией Djoser.

### Стек технологий 

- Python 3.9
- Django 3.2.3
- Django REST framework 3.12.4
- PostgreSQL
- Docker
- Nginx
- Gunicorn
- Redis
- Celery
- Swagger

### Запуск проекта локально:  
1. Клонировать репозиторий.  
2. Создать `.env` файл в директории infra/ по образцу `.env.example` для docker-compose.yml.  
3. Запустить локально Docker engine.  
4. Перейти в директорию infra/ и выполнить команду `docker compose up`.
5. Проект будет доступен по адресу (http://localhost/api/v1/)
   
### Запуск проекта для разработки:  
1. Клонировать репозиторий.  
2. Создать и активировать виртуальное окружение:  
  - перейти в директорию backend `cd Donution`  
  - создать виртуальное окружение `python -m venv venv`  
  - активировать виртуальное окружение `source venv/Scripts/activate`  
3. Установить poetry `pip install poetry`.  
4. Установить зависимости: `poetry install`.
5. Создать `.env` файл в директории infra/ по образцу `.env.example` для dev.yml.
6. Перейти в директорию infra/ и выполнить команду `docker compose -f dev.yml up`.
5. Проект будет доступен по адресу (http://localhost:8000/api/v1/)

### Наполнение базы данных моковыми данными

Для заполнения базы данных реализован скрипт fill_db
Этот скрипт предназначен для автоматической генерации тестовых данных в базу данных Django-проекта. Скрипт создаёт пользователей (User), коллекции (Collection) и платежи (Payment).

#### Запуск скрипта

Скрипт является кастомной командой Django, которую можно вызвать следующим образом:
```
python manage.py fill_db --users=<КОЛИЧЕСТВО_ПОЛЬЗОВАТЕЛЕЙ> \
                       --collects=<КОЛИЧЕСТВО_КОЛЛЕКЦИЙ> \
                       --payments=<КОЛИЧЕСТВО_ПЛАТЕЖЕЙ>
```
Параметры:

- --users: Количество создаваемых пользователей. По умолчанию — 1000.
- --collects: Количество создаваемых коллекций. По умолчанию — 1000.
- --payments: Количество создаваемых платежей. По умолчанию — 2000.

Все значения должны быть положительными целыми числами.

#### Результат выполнения:

По завершении выполнения скрипт выведет сообщение с количеством созданных объектов и временем выполнения. Например:
```
1000 users created
1000 collects created
2000 payments created
Время выполнения: 5 секунд.
```

### Функционал приложения:

Авторизация осуществляется на стороне сервера, приложение запрашивает токены аутентификации и сохраняет их в браузере.
Пользователь видит главную страницу с кнопкой "Создать сбор" и списком активных кампаний.
При выборе кампании открывается подробная информация о сборе с возможностью оплаты взноса.
Оплата производится путем ввода суммы и отправки POST-запроса на бэкэнд.
При создании сбора или совершении платежа, пользователю направляется письмо на электронную почту.

#### Описание Endpoints API:

- GET /collections/ — Получение списка всех кампаний.
- POST /collections/ — Создание новой кампании.
- GET /collections/{pk}/ — Детали конкретной кампании.
- DELETE, PUT, PATCH /collections/{pk}/ - Удалене, обновление компании.
- POST /collections/{pk}/payments/ — Отправка платежа.

#### Документация

Подробное описание API лоступно по ссылке http://localhost/swagger

# TODO:

Необходимо разработать SPA (Single Page Application) на Vue.js для организации сбора денежных средств. Основная функциональность приложения сводится к созданию нового сбора средств, просмотру существующих сборов и оплате взносов.

## Архитектура проекта:

### Главная страница (Home.vue):

- Отображение списка кампаний.
- Кнопка "Создать сбор".


### Создание новой кампании (CreateCollection.vue):

Форма для заполнения полей: 
- причина сбора
- название
- описание
- целевая сумма
- срок окончания


### Просмотр деталей кампании (CollectionDetail.vue):

Информация о кампании:
- автор
- собранная сумма
- количество участников
- цель
- сроки

Возможность внести платеж.


### Оплата взноса (PaymentModal.vue):

Модальное окно для ввода суммы платежа и подтверждения транзакции.


## Разработчик (исполнитель):
Порошин Алексей: https://github.com/Supersup66